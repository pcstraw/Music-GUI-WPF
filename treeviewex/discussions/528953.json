[
  {
    "Id": "1202774",
    "ThreadId": "528953",
    "Html": "Hi, when using the Tree's Context Menu I want to first select the particular node without manually left click it before. First I tried to implement that with interaction triggers:<br />\n<pre><code>&lt;i:EventTrigger EventName=&quot;PreviewMouseRightButtonDown&quot;&gt;\n            &lt;ei:ChangePropertyAction PropertyName=&quot;IsSelected&quot; Value=&quot;true&quot; TargetObject=&quot;{Binding}&quot;/&gt;\n          &lt;/i:EventTrigger&gt;</code></pre>\n\nwith the result that the right clicked node is additionally selected not single selected.<br />\nI only achieved it with modifying the TreeViewEx's OnMouseDown method<br />\n<pre><code>if (e.ChangedButton != MouseButton.Left &amp;&amp; e.ChangedButton != MouseButton.Right) return;</code></pre>\n\nBut of course, if possible I want to avoid that<br />\n<br />\nAny ideas on that? Thanks!<br />\n",
    "PostedDate": "2014-02-04T22:31:40.3-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1202969",
    "ThreadId": "528953",
    "Html": "Hi, \r<br />\n<br />\nyou might want to try sth like that:<br />\n<pre><code>&lt;Style TargetType=&quot;Controls:TreeViewExItem&quot;&gt;\n    &lt;EventSetter Event=&quot;MouseUp&quot; Handler=&quot;MouseUp&quot;/&gt;\n&lt;/Style&gt;</code></pre>\n\n<pre><code>private void MouseUp(object sender, System.Windows.Input.MouseButtonEventArgs e)\n{\n    TreeViewExItem item = sender as TreeViewExItem;\n     if (item != null \n          &amp;&amp; e.ChangedButton == MouseButton.Right\n          &amp;&amp; (Keyboard.Modifiers &amp; ModifierKeys.Control) != ModifierKeys.Control)\n     {\n         tree.SelectedItems.Clear();\n         tree.SelectedItems.Add(item.DataContext);\n         item.Focus();\n         e.Handled = true;\n      }\n}</code></pre>\n\nRegards!<br />\n",
    "PostedDate": "2014-02-05T06:28:05.343-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1203311",
    "ThreadId": "528953",
    "Html": "Thanks slompf for the quick response!\r<br />\nI added the overriden MouseUp function and altered it according to the MouseDown function in the SelectionMultiple.cs<br />\n<pre><code>internal override void OnMouseUp(MouseButtonEventArgs e)\n        {\n            TreeViewExItem item = GetTreeViewItemUnderMouse(e.GetPosition(treeViewEx));\n            if (item != null &amp;&amp; !item.IsEditing &amp;&amp; e.ChangedButton == MouseButton.Right)\n            {\n                SelectSingleItem(item);\n\n                FocusHelper.Focus(item);\n            }\n\n            base.OnMouseUp(e);\n        }</code></pre>\n\nI accept Keyboard Modifiers for multi selection. \r<br />\nHopefully the next realease will implement that behavior, so that I don't have to update it in the future ;-)\r<br />\n<br />\nThanks a lot! Matthias<br />\n",
    "PostedDate": "2014-02-05T22:46:52.69-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1206155",
    "ThreadId": "528953",
    "Html": "Hi again,\r<br />\n<br />\nI modified your SelectionMultiple.OnMouseDown handler to support context menu on selected items<br />\n<pre><code>internal override void OnMouseDown(MouseButtonEventArgs e)\n        {\n            TreeViewExItem item = GetTreeViewItemUnderMouse(e.GetPosition(treeViewEx));\n            bool leftClick = e.ChangedButton == MouseButton.Left;\n            bool rightClick = e.ChangedButton == MouseButton.Right;\n\n            if (item != null &amp;&amp; !item.IsEditing &amp;&amp; (leftClick || rightClick))\n            {\n                if (leftClick)\n                {\n                    SelectSingleItem(item);\n                    FocusHelper.Focus(item);\n                    e.Handled = true;\n                }\n                else if (rightClick)\n                {\n                    if (!item.IsSelected)\n                    {\n                        SelectSingleItem(item);\n                        FocusHelper.Focus(item);\n                    }\n                    e.Handled = true;\n                }\n            }\n\n            base.OnMouseDown(e);\n        }</code></pre>\n\nIf the item wasn't selected before, it's first beeing selected<br />\n",
    "PostedDate": "2014-02-09T23:24:18.46-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]