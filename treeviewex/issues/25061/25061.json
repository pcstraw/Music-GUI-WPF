{
  "WorkItem": {
    "AffectedComponent": {
      "Name": "TreeViewEx",
      "DisplayName": "TreeViewEx"
    },
    "ClosedComment": "",
    "ClosedDate": "2014-02-03T04:56:36.55-08:00",
    "CommentCount": 0,
    "Custom": null,
    "Description": "This happens when binding SelectedItems to a ReadOnlyObservableCollection.\nI take care to remove any Selected items before removing the item from the TreeViewEx.\nBut ClearObsoleteItems is still called even though SelectedItems is empty.\n\nI can solve this in two ways, either by checking for IsReadOnly, or by checking is the item is indeed in the list. A full resolution would be: \n  \n```\n        public void ClearObsoleteItems(IEnumerable<object> items)\n        {\n            if (!treeViewEx.SelectedItems.IsReadOnly)\n            {\n                foreach (object itemToUnSelect in items)\n                {\n                    if (treeViewEx.SelectedItems.Contains(itemToUnSelect))\n                        treeViewEx.SelectedItems.Remove(itemToUnSelect);\n                }\n            }\n           \n            if (items.Contains(lastShiftRoot)) lastShiftRoot = null;\n        }\n```",
    "LastUpdatedDate": "2017-11-30T15:06:47.38-08:00",
    "PlannedForRelease": "TreeViewEx_3.0",
    "ReleaseVisibleToPublic": true,
    "Priority": {
      "Name": "Low",
      "Severity": 50,
      "Id": 1
    },
    "ProjectName": "treeviewex",
    "ReportedDate": "2014-01-09T05:57:56.49-08:00",
    "Status": {
      "Name": "Closed",
      "Id": 4
    },
    "ReasonClosed": {
      "Name": "Unassigned"
    },
    "Summary": "ClearObsoleteItems throws NotSupportedException",
    "Type": {
      "Name": "Issue",
      "Id": 3
    },
    "VoteCount": 1,
    "Id": 25061
  },
  "FileAttachments": [],
  "Comments": [
    {
      "Message": "Hi,\r\n\r\nby removing the nodes from the Tree, ClearObsoleteItems is called. This method removes the items from the selection, too. That is needed, so we get no invalid state with items in selection which aren't in the Tree anymore.\r\n\r\nIf you prevent changing the selection by binding it to a ReadOnlyCollection, you have to take care for deleting them from selection, before removing them from the tree.\r\n\r\nRegards,\nTorsten",
      "PostedDate": "2014-01-23T06:52:43.75-08:00",
      "Id": -2147483648
    },
    {
      "Message": "I take care to remove any Selected items before removing the item from the TreeViewEx.\nThe ClearObsoleteItems() is called anyway, trying to remove items that are no longer into treeViewEx.SelectedItems. \r\n\r\nBy Performing a Check before removing the item, something like: \"if (treeViewEx.SelectedItems.Contains(itemToUnSelect))\" will solve the problem.\r\n\r\n",
      "PostedDate": "2014-01-23T10:24:56.067-08:00",
      "Id": -2147483648
    },
    {
      "Message": "Resolved with changeset 73736: Fix for 25061",
      "PostedDate": "2014-02-03T04:56:36.55-08:00",
      "Id": -2147483648
    },
    {
      "Message": "Thanks!",
      "PostedDate": "2014-02-03T08:19:44.6-08:00",
      "Id": -2147483648
    },
    {
      "Message": "",
      "PostedDate": "2017-11-30T15:06:47.38-08:00",
      "Id": -2147483648
    }
  ]
}