{
  "WorkItem": {
    "AffectedComponent": {
      "Name": "",
      "DisplayName": ""
    },
    "ClosedComment": "",
    "ClosedDate": null,
    "CommentCount": 0,
    "Custom": null,
    "Description": "Hello,\nVirtualizingTreePanel with virtualization turned __on__ is throwing __ArgumentOutOfRangeException__ if it is loaded with nodes collapsed and you attempt to expand a node.\n\nPlease have a look on attached VirtualizationSample that I have modified (reduced number of elements and added IsExpanded property binding)\n\nRepro steps:\n\n1. Run sample\n2. Check \"Virtualize items\"\n3. Click Load items => two items should load\n4. Expand any of items\n=> \n\nAn unhandled exception of type 'System.ArgumentOutOfRangeException' occurred in PresentationFramework.dll\n\nAdditional information: Specified index is out of range or child at index is null. Do not call this method if VisualChildrenCount returns zero, indicating that the Visual has no children.\n\nStackTrace:\n\n>\tTreeViewEx.dll!System.Windows.Controls.VirtualizingTreePanel.InvalidateMeasure(System.Windows.Controls.TreeViewExItem child) Line 236\tC#\n \tTreeViewEx.dll!System.Windows.Controls.VirtualizingTreePanel.MeasureOverride(System.Windows.Size availableSize) Line 145\tC#",
    "LastUpdatedDate": "2015-03-18T06:52:51.107-07:00",
    "PlannedForRelease": "",
    "ReleaseVisibleToPublic": false,
    "Priority": {
      "Name": "Unassigned",
      "Severity": 0,
      "Id": 0
    },
    "ProjectName": "treeviewex",
    "ReportedDate": "2015-03-18T06:46:01.72-07:00",
    "Status": {
      "Name": "Proposed",
      "Id": 1
    },
    "ReasonClosed": {
      "Name": "Unassigned"
    },
    "Summary": "Crash in VirtualizingTreePanel",
    "Type": {
      "Name": "Unassigned",
      "Id": 5
    },
    "VoteCount": 1,
    "Id": 26045
  },
  "FileAttachments": [
    {
      "FileId": 7061,
      "FileName": "VirtualizationSample.zip",
      "DownloadUrl": ".\\7061"
    }
  ],
  "Comments": [
    {
      "Message": "I just noticed that if you increase number of elements in MainWindow.xaml.cs:\r\n\r\n```\nconst int firstLevelCount = 20;\nconst int thirdLevelCount = 10;\n```\r\n\r\nthan the same crash happens already in Step 3 (when clicking Load items )",
      "PostedDate": "2015-03-18T06:52:51.107-07:00",
      "Id": -2147483648
    }
  ]
}